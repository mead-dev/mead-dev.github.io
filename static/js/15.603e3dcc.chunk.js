(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{138:function(e,a,t){"use strict";var n=t(0),i=t.n(n);a.a=function(e){var a=e.err;return a?i.a.createElement("div",{className:"alert alert-danger"},a.message?a.message:a):null}},139:function(e,a,t){"use strict";var n=t(0),i=t.n(n),r=t(8),l=t(142),o=t(143),c=t(11);a.a=function(e){var a=e.items,t=e.main,n=e.icon,s=null;return a&&(s=a.map(function(e,a){return i.a.createElement(l.a,{key:a},i.a.createElement(r.b,{className:"text-info",to:e.to},e.content))})),i.a.createElement(o.a,{listClassName:"bg-transparent rounded-0 small justify-content-end",style:{top:0,right:0,position:"absolute",zIndex:1e3}},i.a.createElement(l.a,null,i.a.createElement(r.b,{className:"text-info",to:"/"},i.a.createElement(c.a,{icon:n,className:"mr-1"})," Accueil")),s,i.a.createElement(l.a,{className:"text-danger",active:!0},t))}},140:function(e,a,t){"use strict";var n=t(0),i=t.n(n),r=t(11);a.a=function(e){var a=e.icon,t=e.children,n=e.className,l=e.user;return i.a.createElement("h2",{className:(l?"h4 ":"")+"mb-2 "+n},i.a.createElement(r.a,{icon:a,className:"mr-2",fixedWidth:!0}),t)}},141:function(e,a,t){"use strict";var n=t(0),i=t.n(n);a.a=function(e){var a=e.children,t=e.className;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"text-muted lead small "+t},a),i.a.createElement("hr",null))}},142:function(e,a,t){"use strict";var n=t(5),i=t(7),r=t(0),l=t.n(r),o=t(2),c=t.n(o),s=t(9),u=t.n(s),d=t(4),m={tag:d.m,active:c.a.bool,className:c.a.string,cssModule:c.a.object},f=function(e){var a=e.className,t=e.cssModule,r=e.active,o=e.tag,c=Object(i.a)(e,["className","cssModule","active","tag"]),s=Object(d.i)(u()(a,!!r&&"active","breadcrumb-item"),t);return l.a.createElement(o,Object(n.a)({},c,{className:s,"aria-current":r?"page":void 0}))};f.propTypes=m,f.defaultProps={tag:"li"},a.a=f},143:function(e,a,t){"use strict";var n=t(5),i=t(7),r=t(0),l=t.n(r),o=t(2),c=t.n(o),s=t(9),u=t.n(s),d=t(4),m={tag:d.m,listTag:d.m,className:c.a.string,listClassName:c.a.string,cssModule:c.a.object,children:c.a.node,"aria-label":c.a.string},f=function(e){var a=e.className,t=e.listClassName,r=e.cssModule,o=e.children,c=e.tag,s=e.listTag,m=e["aria-label"],f=Object(i.a)(e,["className","listClassName","cssModule","children","tag","listTag","aria-label"]),p=Object(d.i)(u()(a),r),b=Object(d.i)(u()("breadcrumb",t),r);return l.a.createElement(c,Object(n.a)({},f,{className:p,"aria-label":m}),l.a.createElement(s,{className:b},o))};f.propTypes=m,f.defaultProps={tag:"nav",listTag:"ol","aria-label":"breadcrumb"},a.a=f},144:function(e,a,t){"use strict";var n=t(0),i=t.n(n),r=t(148),l=t(150),o=t(149),c=t(50),s=t(145),u=t(11);a.a=function(e){var a=e.icon,t=e.name,n=e.type,d=e.check,m=e.placeholder,f=e.required,p=e.autoFocus,b=e.children,v=e.className,h=e.onChange,g=e.invalid,y=e.touched,E=e.shouldValidate,O=e.row,j=e.select,N=e.options,C=e.file,x=e.value,k=null;return j&&(k=N.array.map(function(e){return i.a.createElement("option",{key:e[N.value],value:e[N.value]},e[N.name])})),i.a.createElement(r.a,{row:O,className:v+(O?" align-items-center":""),check:d},d?i.a.createElement(l.a,{type:n,name:t,id:t,label:b,value:x||""}):i.a.createElement(i.a.Fragment,null,i.a.createElement(o.a,{sm:O?4:null,className:O?" text-right font-weight-bold":"",for:t},a?i.a.createElement(u.a,{fixedWidth:!0,icon:a,className:"mr-1"}):null,b),O?i.a.createElement(c.a,{sm:8},C?i.a.createElement(l.a,{type:n,invalid:g&&y&&E,valid:!g&&y&&E,name:t,id:t,required:f,autoFocus:p,placeholder:m,onChange:h}):i.a.createElement(s.a,{type:n,value:x||"",invalid:g&&y&&E,valid:!g&&y&&E,name:t,id:t,required:f,autoFocus:p,placeholder:m,onChange:h})):j?i.a.createElement(s.a,{type:n,value:x||"",invalid:g&&y&&E,valid:!g&&y&&E,name:t,id:t,required:f,autoFocus:p,placeholder:m,onChange:h},k):C?i.a.createElement(l.a,{type:n,invalid:g&&y&&E,valid:!g&&y&&E,name:t,id:t,required:f,autoFocus:p,placeholder:m,onChange:h}):i.a.createElement(s.a,{type:n,value:x||"",invalid:g&&y&&E,valid:!g&&y&&E,name:t,id:t,required:f,autoFocus:p,placeholder:m,onChange:h})))}},145:function(e,a,t){"use strict";var n=t(5),i=t(7),r=t(15),l=t(12),o=t(0),c=t.n(o),s=t(2),u=t.n(s),d=t(9),m=t.n(d),f=t(4),p={children:u.a.node,type:u.a.string,size:u.a.string,bsSize:u.a.string,valid:u.a.bool,invalid:u.a.bool,tag:f.m,innerRef:u.a.oneOfType([u.a.object,u.a.func,u.a.string]),plaintext:u.a.bool,addon:u.a.bool,className:u.a.string,cssModule:u.a.object},b=function(e){function a(a){var t;return(t=e.call(this,a)||this).getRef=t.getRef.bind(Object(r.a)(t)),t.focus=t.focus.bind(Object(r.a)(t)),t}Object(l.a)(a,e);var t=a.prototype;return t.getRef=function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e},t.focus=function(){this.ref&&this.ref.focus()},t.render=function(){var e=this.props,a=e.className,t=e.cssModule,r=e.type,l=e.bsSize,o=e.valid,s=e.invalid,u=e.tag,d=e.addon,p=e.plaintext,b=e.innerRef,v=Object(i.a)(e,["className","cssModule","type","bsSize","valid","invalid","tag","addon","plaintext","innerRef"]),h=["radio","checkbox"].indexOf(r)>-1,g=new RegExp("\\D","g"),y=u||("select"===r||"textarea"===r?r:"input"),E="form-control";p?(E+="-plaintext",y=u||"input"):"file"===r?E+="-file":h&&(E=d?null:"form-check-input"),v.size&&g.test(v.size)&&(Object(f.n)('Please use the prop "bsSize" instead of the "size" to bootstrap\'s input sizing.'),l=v.size,delete v.size);var O=Object(f.i)(m()(a,s&&"is-invalid",o&&"is-valid",!!l&&"form-control-"+l,E),t);return("input"===y||u&&"function"===typeof u)&&(v.type=r),v.children&&!p&&"select"!==r&&"string"===typeof y&&"select"!==y&&(Object(f.n)('Input with a type of "'+r+'" cannot have children. Please use "value"/"defaultValue" instead.'),delete v.children),c.a.createElement(y,Object(n.a)({},v,{ref:b,className:O}))},a}(c.a.Component);b.propTypes=p,b.defaultProps={type:"text"},a.a=b},148:function(e,a,t){"use strict";var n=t(5),i=t(7),r=t(0),l=t.n(r),o=t(2),c=t.n(o),s=t(9),u=t.n(s),d=t(4),m={children:c.a.node,row:c.a.bool,check:c.a.bool,inline:c.a.bool,disabled:c.a.bool,tag:d.m,className:c.a.string,cssModule:c.a.object},f=function(e){var a=e.className,t=e.cssModule,r=e.row,o=e.disabled,c=e.check,s=e.inline,m=e.tag,f=Object(i.a)(e,["className","cssModule","row","disabled","check","inline","tag"]),p=Object(d.i)(u()(a,!!r&&"row",c?"form-check":"form-group",!(!c||!s)&&"form-check-inline",!(!c||!o)&&"disabled"),t);return l.a.createElement(m,Object(n.a)({},f,{className:p}))};f.propTypes=m,f.defaultProps={tag:"div"},a.a=f},149:function(e,a,t){"use strict";var n=t(5),i=t(7),r=t(0),l=t.n(r),o=t(2),c=t.n(o),s=t(9),u=t.n(s),d=t(58),m=t.n(d),f=t(4),p=c.a.oneOfType([c.a.number,c.a.string]),b=c.a.oneOfType([c.a.string,c.a.number,c.a.shape({size:p,order:p,offset:p})]),v={children:c.a.node,hidden:c.a.bool,check:c.a.bool,size:c.a.string,for:c.a.string,tag:f.m,className:c.a.string,cssModule:c.a.object,xs:b,sm:b,md:b,lg:b,xl:b,widths:c.a.array},h={tag:"label",widths:["xs","sm","md","lg","xl"]},g=function(e,a,t){return!0===t||""===t?e?"col":"col-"+a:"auto"===t?e?"col-auto":"col-"+a+"-auto":e?"col-"+t:"col-"+a+"-"+t},y=function(e){var a=e.className,t=e.cssModule,r=e.hidden,o=e.widths,c=e.tag,s=e.check,d=e.size,p=e.for,b=Object(i.a)(e,["className","cssModule","hidden","widths","tag","check","size","for"]),v=[];o.forEach(function(a,n){var i=e[a];if(delete b[a],i||""===i){var r,l=!n;if(m()(i)){var o,c=l?"-":"-"+a+"-";r=g(l,a,i.size),v.push(Object(f.i)(u()(((o={})[r]=i.size||""===i.size,o["order"+c+i.order]=i.order||0===i.order,o["offset"+c+i.offset]=i.offset||0===i.offset,o))),t)}else r=g(l,a,i),v.push(r)}});var h=Object(f.i)(u()(a,!!r&&"sr-only",!!s&&"form-check-label",!!d&&"col-form-label-"+d,v,!!v.length&&"col-form-label"),t);return l.a.createElement(c,Object(n.a)({htmlFor:p},b,{className:h}))};y.propTypes=v,y.defaultProps=h,a.a=y},150:function(e,a,t){"use strict";var n=t(5),i=t(7),r=t(0),l=t.n(r),o=t(2),c=t.n(o),s=t(9),u=t.n(s),d=t(4),m={className:c.a.string,id:c.a.oneOfType([c.a.string,c.a.number]).isRequired,type:c.a.string.isRequired,label:c.a.node,inline:c.a.bool,valid:c.a.bool,invalid:c.a.bool,bsSize:c.a.string,htmlFor:c.a.string,cssModule:c.a.object,children:c.a.oneOfType([c.a.node,c.a.array,c.a.func]),innerRef:c.a.oneOfType([c.a.object,c.a.string,c.a.func])};function f(e){var a=e.className,t=e.label,r=e.inline,o=e.valid,c=e.invalid,s=e.cssModule,m=e.children,f=e.bsSize,p=e.innerRef,b=e.htmlFor,v=Object(i.a)(e,["className","label","inline","valid","invalid","cssModule","children","bsSize","innerRef","htmlFor"]),h=v.type,g=Object(d.i)(u()(a,"custom-"+h,!!f&&"custom-"+h+"-"+f),s),y=Object(d.i)(u()(c&&"is-invalid",o&&"is-valid"),s),E=b||v.id;if("select"===h)return l.a.createElement("select",Object(n.a)({},v,{ref:p,className:u()(y,g)}),m);if("file"===h)return l.a.createElement("div",{className:g},l.a.createElement("input",Object(n.a)({},v,{ref:p,className:u()(y,Object(d.i)("custom-file-input",s))})),l.a.createElement("label",{className:Object(d.i)("custom-file-label",s),htmlFor:E},t||"Choose file"));if("checkbox"!==h&&"radio"!==h&&"switch"!==h)return l.a.createElement("input",Object(n.a)({},v,{ref:p,className:u()(y,g)}));var O=u()(g,Object(d.i)(u()("custom-control",{"custom-control-inline":r}),s));return l.a.createElement("div",{className:O},l.a.createElement("input",Object(n.a)({},v,{type:"switch"===h?"checkbox":h,ref:p,className:u()(y,Object(d.i)("custom-control-input",s))})),l.a.createElement("label",{className:Object(d.i)("custom-control-label",s),htmlFor:E},t),m)}f.propTypes=m,a.a=f},151:function(e,a,t){"use strict";var n=t(5),i=t(7),r=t(15),l=t(12),o=t(0),c=t.n(o),s=t(2),u=t.n(s),d=t(9),m=t.n(d),f=t(4),p={children:u.a.node,inline:u.a.bool,tag:f.m,innerRef:u.a.oneOfType([u.a.object,u.a.func,u.a.string]),className:u.a.string,cssModule:u.a.object},b=function(e){function a(a){var t;return(t=e.call(this,a)||this).getRef=t.getRef.bind(Object(r.a)(t)),t.submit=t.submit.bind(Object(r.a)(t)),t}Object(l.a)(a,e);var t=a.prototype;return t.getRef=function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e},t.submit=function(){this.ref&&this.ref.submit()},t.render=function(){var e=this.props,a=e.className,t=e.cssModule,r=e.inline,l=e.tag,o=e.innerRef,s=Object(i.a)(e,["className","cssModule","inline","tag","innerRef"]),u=Object(f.i)(m()(a,!!r&&"form-inline"),t);return c.a.createElement(l,Object(n.a)({},s,{ref:o,className:u}))},a}(o.Component);b.propTypes=p,b.defaultProps={tag:"form"},a.a=b},323:function(e,a,t){"use strict";t.r(a);var n=t(16),i=t(57),r=t(25),l=t(26),o=t(28),c=t(27),s=t(29),u=t(0),d=t.n(u),m=t(30),f=t(33),p=t(11),b=t(137),v=t(151),h=t(148),g=t(80),y=t(50),E=t(144),O=t(139),j=t(40),N=t(140),C=t(141),x=t(138),k=t(31),M=t(3),w=function(e){function a(){var e,t;Object(r.a)(this,a);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(t=Object(o.a)(this,(e=Object(c.a)(a)).call.apply(e,[this].concat(l)))).state={formValid:!0,formError:!1,formLoading:!1,formSubmitted:!1,controls:{title:{elementConfig:{type:"text",label:"Titre",autoFocus:!0},icon:"heading",value:"",validation:{required:!0,minLength:3},valid:!0,touched:!0},description:{elementConfig:{type:"textarea",label:"Description"},icon:"paragraph",value:"",validation:{required:!0,maxLength:200},valid:!0,touched:!0},price:{elementConfig:{type:"number",label:"Prix"},icon:"tag",value:"",validation:{required:!0,isNumeric:!0},valid:!0,touched:!0},quantity:{elementConfig:{type:"number",label:"Quantit\xe9"},icon:"tag",value:"",validation:{required:!0,isNumeric:!0},valid:!0,touched:!0},size:{elementConfig:{type:"text",label:"Taille (S/M/L/XL/XXL ou un nombre pour des chaussures)"},icon:"tag",value:"",validation:{},valid:!0,touched:!0},color:{elementConfig:{type:"color",label:"Couleur"},icon:"palette",value:"#000000",validation:{},valid:!0,touched:!0},brand:{elementConfig:{type:"text",label:"Marque"},icon:"building",value:"",validation:{},valid:!0,touched:!0},delivery:{elementConfig:{type:"number",label:"D\xe9lai de livraison (en jours)"},icon:"truck-loading",value:"",validation:{},valid:!0,touched:!0},image:{elementConfig:{type:"file",label:"Image du produit"},icon:"image",value:"",validation:{},valid:!0,touched:!0}}},t.inputChangedHandler=function(e){var a=e.target,n=a.files,r=a.name,l=a.value,o=t.state.controls;t.setState(Object(M.b)(t.state,{controls:Object(M.b)(o,Object(i.a)({},r,Object(M.b)(o[r],{value:n?n[0]:l,valid:Object(M.a)(l,o[r].validation),touched:!0})))}));var c=!0;for(var s in o)if(o.hasOwnProperty(s)){var u=o[s];c=c&&u.valid}t.setState({formValid:c,formSubmitted:!1,formError:!1})},t.submitHandler=function(e){var a=t.state,n=a.formValid,i=a.controls;e.preventDefault();var r={};for(var l in i)if(i.hasOwnProperty(l)){var o=i[l];r[l]=o.value}n?(t.props.onAuthErrorReset(),t.props.onUpdateProduct(r,t.props.match.params.productId),t.setState({formSubmitted:!0,formError:!1})):t.setState({formError:!0})},t}return Object(s.a)(a,e),Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,a=e.onAuthPageOff,t=e.onUserPageOn,n=e.onEditProduct,i=e.auth,r=i.authPage,l=i.userPage,o=e.match.params.productId;r&&a(),l||t(),n(o)}},{key:"componentWillUpdate",value:function(e,a){e.admin.product!==this.props.admin.product&&(a=Object(n.a)({},this.state),Object.keys(a.controls).forEach(function(t){a.controls[t].value=e.admin.product[t]}))}},{key:"componentWillUnmount",value:function(){this.props.onAdminReset()}},{key:"render",value:function(){var e=this,a=this.state,t=a.controls,n=a.formValid,i=a.formError,r=a.formLoading,l=a.formSubmitted,o=this.props,c=o.auth,s=c.error,u=c.loading,m=o.admin,k=m.error,M=m.productLoading,w=m.product,z=null;!l||r||u||M||i||s||k||(z=d.a.createElement(f.a,{to:"/community/products"}));var R=null;!n&&i&&(R="Veuillez v\xe9rifier vos informations");var P=d.a.createElement(d.a.Fragment,null,d.a.createElement(x.a,{err:R}),d.a.createElement(x.a,{err:s}),d.a.createElement(x.a,{err:k})),T=null;if(r||u||M)T=d.a.createElement("div",{className:"text-center"},d.a.createElement(b.a,{type:"grow",style:{width:"5rem",height:"5rem"},color:"danger"}));else if(w){var F=Object.keys(t).map(function(a){return d.a.createElement(E.a,{key:a,value:t[a].value,onChange:function(a){return e.inputChangedHandler(a)},name:a,icon:t[a].icon,className:t[a].elementConfig.className,check:["radio","checkbox"].includes(t[a].elementConfig.type),select:"select"===t[a].elementConfig.type,file:"file"===t[a].elementConfig.type,options:t[a].elementConfig.options,required:t[a].validation.required,type:t[a].elementConfig.type,invalid:!t[a].valid,touched:t[a].touched,shouldValidate:!!t[a].validation,autoFocus:t[a].elementConfig.autoFocus},t[a].elementConfig.label)});T=d.a.createElement(d.a.Fragment,null,d.a.createElement(v.a,{onSubmit:function(a){return e.submitHandler(a)}},F,d.a.createElement(h.a,null,d.a.createElement(g.a,{color:"danger"},"Modifier",d.a.createElement(p.a,{icon:"edit",size:"lg",className:"ml-1"})))))}return d.a.createElement(y.a,{xs:12,className:"p-0"},z,d.a.createElement(O.a,{main:"Modifier un produit",icon:"edit",items:[{to:"/community",content:"Ma communaut\xe9"}]}),d.a.createElement(j.a,{user:!0,bg:"light"},d.a.createElement(N.a,{user:!0,icon:"edit"},"Modifier un produit"),d.a.createElement(C.a,null,"Ici, vous pouvez modifier un produit de l'application."),P,T))}}]),a}(u.Component);a.default=Object(m.b)(function(e){return Object(n.a)({},e)},function(e){return{onAuthPageOff:function(){return e(k.y())},onUserPageOn:function(){return e(k.Z())},onAuthErrorReset:function(){return e(k.v())},onAdminReset:function(){return e(k.n())},onEditProduct:function(a){return e(k.g(a))},onUpdateProduct:function(a,t){return e(k.r(a,t))}}})(w)}}]);
//# sourceMappingURL=15.603e3dcc.chunk.js.map
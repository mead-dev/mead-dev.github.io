(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{138:function(e,a,t){"use strict";var n=t(0),r=t.n(n);a.a=function(e){var a=e.err;return a?r.a.createElement("div",{className:"alert alert-danger"},a.message?a.message:a):null}},139:function(e,a,t){"use strict";var n=t(0),r=t.n(n),i=t(8),l=t(142),o=t(143),s=t(11);a.a=function(e){var a=e.items,t=e.main,n=e.icon,c=null;return a&&(c=a.map(function(e,a){return r.a.createElement(l.a,{key:a},r.a.createElement(i.b,{className:"text-info",to:e.to},e.content))})),r.a.createElement(o.a,{listClassName:"bg-transparent rounded-0 small justify-content-end",style:{top:0,right:0,position:"absolute",zIndex:1e3}},r.a.createElement(l.a,null,r.a.createElement(i.b,{className:"text-info",to:"/"},r.a.createElement(s.a,{icon:n,className:"mr-1"})," Accueil")),c,r.a.createElement(l.a,{className:"text-danger",active:!0},t))}},140:function(e,a,t){"use strict";var n=t(0),r=t.n(n),i=t(11);a.a=function(e){var a=e.icon,t=e.children,n=e.className,l=e.user;return r.a.createElement("h2",{className:(l?"h4 ":"")+"mb-2 "+n},r.a.createElement(i.a,{icon:a,className:"mr-2",fixedWidth:!0}),t)}},141:function(e,a,t){"use strict";var n=t(0),r=t.n(n);a.a=function(e){var a=e.children,t=e.className;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"text-muted lead small "+t},a),r.a.createElement("hr",null))}},142:function(e,a,t){"use strict";var n=t(5),r=t(7),i=t(0),l=t.n(i),o=t(2),s=t.n(o),c=t(9),u=t.n(c),m=t(4),d={tag:m.m,active:s.a.bool,className:s.a.string,cssModule:s.a.object},f=function(e){var a=e.className,t=e.cssModule,i=e.active,o=e.tag,s=Object(r.a)(e,["className","cssModule","active","tag"]),c=Object(m.i)(u()(a,!!i&&"active","breadcrumb-item"),t);return l.a.createElement(o,Object(n.a)({},s,{className:c,"aria-current":i?"page":void 0}))};f.propTypes=d,f.defaultProps={tag:"li"},a.a=f},143:function(e,a,t){"use strict";var n=t(5),r=t(7),i=t(0),l=t.n(i),o=t(2),s=t.n(o),c=t(9),u=t.n(c),m=t(4),d={tag:m.m,listTag:m.m,className:s.a.string,listClassName:s.a.string,cssModule:s.a.object,children:s.a.node,"aria-label":s.a.string},f=function(e){var a=e.className,t=e.listClassName,i=e.cssModule,o=e.children,s=e.tag,c=e.listTag,d=e["aria-label"],f=Object(r.a)(e,["className","listClassName","cssModule","children","tag","listTag","aria-label"]),p=Object(m.i)(u()(a),i),b=Object(m.i)(u()("breadcrumb",t),i);return l.a.createElement(s,Object(n.a)({},f,{className:p,"aria-label":d}),l.a.createElement(c,{className:b},o))};f.propTypes=d,f.defaultProps={tag:"nav",listTag:"ol","aria-label":"breadcrumb"},a.a=f},144:function(e,a,t){"use strict";var n=t(0),r=t.n(n),i=t(148),l=t(150),o=t(149),s=t(50),c=t(145),u=t(11);a.a=function(e){var a=e.icon,t=e.name,n=e.type,m=e.check,d=e.placeholder,f=e.required,p=e.autoFocus,b=e.children,h=e.className,v=e.onChange,g=e.invalid,y=e.touched,E=e.shouldValidate,O=e.row,j=e.select,N=e.options,C=e.file,w=e.value,k=null;return j&&(k=N.array.map(function(e){return r.a.createElement("option",{key:e[N.value],value:e[N.value]},e[N.name])})),r.a.createElement(i.a,{row:O,className:h+(O?" align-items-center":""),check:m},m?r.a.createElement(l.a,{type:n,name:t,id:t,label:b,value:w||""}):r.a.createElement(r.a.Fragment,null,r.a.createElement(o.a,{sm:O?4:null,className:O?" text-right font-weight-bold":"",for:t},a?r.a.createElement(u.a,{fixedWidth:!0,icon:a,className:"mr-1"}):null,b),O?r.a.createElement(s.a,{sm:8},C?r.a.createElement(l.a,{type:n,invalid:g&&y&&E,valid:!g&&y&&E,name:t,id:t,required:f,autoFocus:p,placeholder:d,onChange:v}):r.a.createElement(c.a,{type:n,value:w||"",invalid:g&&y&&E,valid:!g&&y&&E,name:t,id:t,required:f,autoFocus:p,placeholder:d,onChange:v})):j?r.a.createElement(c.a,{type:n,value:w||"",invalid:g&&y&&E,valid:!g&&y&&E,name:t,id:t,required:f,autoFocus:p,placeholder:d,onChange:v},k):C?r.a.createElement(l.a,{type:n,invalid:g&&y&&E,valid:!g&&y&&E,name:t,id:t,required:f,autoFocus:p,placeholder:d,onChange:v}):r.a.createElement(c.a,{type:n,value:w||"",invalid:g&&y&&E,valid:!g&&y&&E,name:t,id:t,required:f,autoFocus:p,placeholder:d,onChange:v})))}},145:function(e,a,t){"use strict";var n=t(5),r=t(7),i=t(15),l=t(12),o=t(0),s=t.n(o),c=t(2),u=t.n(c),m=t(9),d=t.n(m),f=t(4),p={children:u.a.node,type:u.a.string,size:u.a.string,bsSize:u.a.string,valid:u.a.bool,invalid:u.a.bool,tag:f.m,innerRef:u.a.oneOfType([u.a.object,u.a.func,u.a.string]),plaintext:u.a.bool,addon:u.a.bool,className:u.a.string,cssModule:u.a.object},b=function(e){function a(a){var t;return(t=e.call(this,a)||this).getRef=t.getRef.bind(Object(i.a)(t)),t.focus=t.focus.bind(Object(i.a)(t)),t}Object(l.a)(a,e);var t=a.prototype;return t.getRef=function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e},t.focus=function(){this.ref&&this.ref.focus()},t.render=function(){var e=this.props,a=e.className,t=e.cssModule,i=e.type,l=e.bsSize,o=e.valid,c=e.invalid,u=e.tag,m=e.addon,p=e.plaintext,b=e.innerRef,h=Object(r.a)(e,["className","cssModule","type","bsSize","valid","invalid","tag","addon","plaintext","innerRef"]),v=["radio","checkbox"].indexOf(i)>-1,g=new RegExp("\\D","g"),y=u||("select"===i||"textarea"===i?i:"input"),E="form-control";p?(E+="-plaintext",y=u||"input"):"file"===i?E+="-file":v&&(E=m?null:"form-check-input"),h.size&&g.test(h.size)&&(Object(f.n)('Please use the prop "bsSize" instead of the "size" to bootstrap\'s input sizing.'),l=h.size,delete h.size);var O=Object(f.i)(d()(a,c&&"is-invalid",o&&"is-valid",!!l&&"form-control-"+l,E),t);return("input"===y||u&&"function"===typeof u)&&(h.type=i),h.children&&!p&&"select"!==i&&"string"===typeof y&&"select"!==y&&(Object(f.n)('Input with a type of "'+i+'" cannot have children. Please use "value"/"defaultValue" instead.'),delete h.children),s.a.createElement(y,Object(n.a)({},h,{ref:b,className:O}))},a}(s.a.Component);b.propTypes=p,b.defaultProps={type:"text"},a.a=b},148:function(e,a,t){"use strict";var n=t(5),r=t(7),i=t(0),l=t.n(i),o=t(2),s=t.n(o),c=t(9),u=t.n(c),m=t(4),d={children:s.a.node,row:s.a.bool,check:s.a.bool,inline:s.a.bool,disabled:s.a.bool,tag:m.m,className:s.a.string,cssModule:s.a.object},f=function(e){var a=e.className,t=e.cssModule,i=e.row,o=e.disabled,s=e.check,c=e.inline,d=e.tag,f=Object(r.a)(e,["className","cssModule","row","disabled","check","inline","tag"]),p=Object(m.i)(u()(a,!!i&&"row",s?"form-check":"form-group",!(!s||!c)&&"form-check-inline",!(!s||!o)&&"disabled"),t);return l.a.createElement(d,Object(n.a)({},f,{className:p}))};f.propTypes=d,f.defaultProps={tag:"div"},a.a=f},149:function(e,a,t){"use strict";var n=t(5),r=t(7),i=t(0),l=t.n(i),o=t(2),s=t.n(o),c=t(9),u=t.n(c),m=t(58),d=t.n(m),f=t(4),p=s.a.oneOfType([s.a.number,s.a.string]),b=s.a.oneOfType([s.a.string,s.a.number,s.a.shape({size:p,order:p,offset:p})]),h={children:s.a.node,hidden:s.a.bool,check:s.a.bool,size:s.a.string,for:s.a.string,tag:f.m,className:s.a.string,cssModule:s.a.object,xs:b,sm:b,md:b,lg:b,xl:b,widths:s.a.array},v={tag:"label",widths:["xs","sm","md","lg","xl"]},g=function(e,a,t){return!0===t||""===t?e?"col":"col-"+a:"auto"===t?e?"col-auto":"col-"+a+"-auto":e?"col-"+t:"col-"+a+"-"+t},y=function(e){var a=e.className,t=e.cssModule,i=e.hidden,o=e.widths,s=e.tag,c=e.check,m=e.size,p=e.for,b=Object(r.a)(e,["className","cssModule","hidden","widths","tag","check","size","for"]),h=[];o.forEach(function(a,n){var r=e[a];if(delete b[a],r||""===r){var i,l=!n;if(d()(r)){var o,s=l?"-":"-"+a+"-";i=g(l,a,r.size),h.push(Object(f.i)(u()(((o={})[i]=r.size||""===r.size,o["order"+s+r.order]=r.order||0===r.order,o["offset"+s+r.offset]=r.offset||0===r.offset,o))),t)}else i=g(l,a,r),h.push(i)}});var v=Object(f.i)(u()(a,!!i&&"sr-only",!!c&&"form-check-label",!!m&&"col-form-label-"+m,h,!!h.length&&"col-form-label"),t);return l.a.createElement(s,Object(n.a)({htmlFor:p},b,{className:v}))};y.propTypes=h,y.defaultProps=v,a.a=y},150:function(e,a,t){"use strict";var n=t(5),r=t(7),i=t(0),l=t.n(i),o=t(2),s=t.n(o),c=t(9),u=t.n(c),m=t(4),d={className:s.a.string,id:s.a.oneOfType([s.a.string,s.a.number]).isRequired,type:s.a.string.isRequired,label:s.a.node,inline:s.a.bool,valid:s.a.bool,invalid:s.a.bool,bsSize:s.a.string,htmlFor:s.a.string,cssModule:s.a.object,children:s.a.oneOfType([s.a.node,s.a.array,s.a.func]),innerRef:s.a.oneOfType([s.a.object,s.a.string,s.a.func])};function f(e){var a=e.className,t=e.label,i=e.inline,o=e.valid,s=e.invalid,c=e.cssModule,d=e.children,f=e.bsSize,p=e.innerRef,b=e.htmlFor,h=Object(r.a)(e,["className","label","inline","valid","invalid","cssModule","children","bsSize","innerRef","htmlFor"]),v=h.type,g=Object(m.i)(u()(a,"custom-"+v,!!f&&"custom-"+v+"-"+f),c),y=Object(m.i)(u()(s&&"is-invalid",o&&"is-valid"),c),E=b||h.id;if("select"===v)return l.a.createElement("select",Object(n.a)({},h,{ref:p,className:u()(y,g)}),d);if("file"===v)return l.a.createElement("div",{className:g},l.a.createElement("input",Object(n.a)({},h,{ref:p,className:u()(y,Object(m.i)("custom-file-input",c))})),l.a.createElement("label",{className:Object(m.i)("custom-file-label",c),htmlFor:E},t||"Choose file"));if("checkbox"!==v&&"radio"!==v&&"switch"!==v)return l.a.createElement("input",Object(n.a)({},h,{ref:p,className:u()(y,g)}));var O=u()(g,Object(m.i)(u()("custom-control",{"custom-control-inline":i}),c));return l.a.createElement("div",{className:O},l.a.createElement("input",Object(n.a)({},h,{type:"switch"===v?"checkbox":v,ref:p,className:u()(y,Object(m.i)("custom-control-input",c))})),l.a.createElement("label",{className:Object(m.i)("custom-control-label",c),htmlFor:E},t),d)}f.propTypes=d,a.a=f},151:function(e,a,t){"use strict";var n=t(5),r=t(7),i=t(15),l=t(12),o=t(0),s=t.n(o),c=t(2),u=t.n(c),m=t(9),d=t.n(m),f=t(4),p={children:u.a.node,inline:u.a.bool,tag:f.m,innerRef:u.a.oneOfType([u.a.object,u.a.func,u.a.string]),className:u.a.string,cssModule:u.a.object},b=function(e){function a(a){var t;return(t=e.call(this,a)||this).getRef=t.getRef.bind(Object(i.a)(t)),t.submit=t.submit.bind(Object(i.a)(t)),t}Object(l.a)(a,e);var t=a.prototype;return t.getRef=function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e},t.submit=function(){this.ref&&this.ref.submit()},t.render=function(){var e=this.props,a=e.className,t=e.cssModule,i=e.inline,l=e.tag,o=e.innerRef,c=Object(r.a)(e,["className","cssModule","inline","tag","innerRef"]),u=Object(f.i)(d()(a,!!i&&"form-inline"),t);return s.a.createElement(l,Object(n.a)({},c,{ref:o,className:u}))},a}(o.Component);b.propTypes=p,b.defaultProps={tag:"form"},a.a=b},163:function(e,a,t){"use strict";function n(e){return function(e){if(Array.isArray(e)){for(var a=0,t=new Array(e.length);a<e.length;a++)t[a]=e[a];return t}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t.d(a,"a",function(){return n})},326:function(e,a,t){"use strict";t.r(a);var n=t(163),r=t(16),i=t(57),l=t(25),o=t(26),s=t(28),c=t(27),u=t(29),m=t(0),d=t.n(m),f=t(30),p=t(33),b=t(11),h=t(137),v=t(151),g=t(148),y=t(80),E=t(50),O=t(144),j=t(139),N=t(40),C=t(140),w=t(141),k=t(138),x=t(31),R=t(3),z=function(e){function a(){var e,t;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(s.a)(this,(e=Object(c.a)(a)).call.apply(e,[this].concat(r)))).state={formValid:!0,formError:!1,formLoading:!1,formSubmitted:!1,controls:{name:{elementConfig:{type:"text",label:"Nom(s) & pr\xe9nom(s)",autoFocus:!0},icon:"signature",value:"",validation:{required:!0,minLength:5},valid:!0,touched:!0},email:{elementConfig:{type:"email",label:"Adresse mail"},icon:"envelope",value:"",validation:{required:!0,isEmail:!0},valid:!0,touched:!0},roleId:{elementConfig:{type:"select",label:"R\xf4le",options:{array:[],value:"_id",name:"name"}},icon:"user-tag",value:"",validation:{required:!0},valid:!0,touched:!0},phone:{elementConfig:{type:"tel",label:"Num\xe9ro de t\xe9l\xe9phone"},icon:"phone",value:"",validation:{required:!0,minLength:8},valid:!0,touched:!0},image:{elementConfig:{type:"file",label:"Photo"},icon:"image",value:"",validation:{},valid:!0,touched:!0}}},t.inputChangedHandler=function(e){var a=e.target,n=a.files,r=a.name,l=a.value,o=t.state.controls;t.setState(Object(R.b)(t.state,{controls:Object(R.b)(o,Object(i.a)({},r,Object(R.b)(o[r],{value:n?n[0]:l,valid:Object(R.a)(l,o[r].validation),touched:!0})))}));var s=!0;for(var c in o)if(o.hasOwnProperty(c)){var u=o[c];s=s&&u.valid}t.setState({formValid:s,formSubmitted:!1,formError:!1})},t.submitHandler=function(e){var a=t.state,n=a.formValid,r=a.controls;e.preventDefault();var i={};for(var l in r)if(r.hasOwnProperty(l)){var o=r[l];i[l]=o.value}n?(t.props.onAuthErrorReset(),t.props.onUpdateUser(i,t.props.match.params.userId),t.setState({formSubmitted:!0,formError:!1})):t.setState({formError:!0})},t}return Object(u.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,a=e.onAuthPageOff,t=e.onUserPageOn,n=e.onEditUser,r=e.onCreateUser,i=e.auth,l=i.authPage,o=i.userPage,s=e.match.params.userId;l&&a(),o||t(),r(),n(s)}},{key:"componentWillUpdate",value:function(e,a){0!==e.admin.roles.length&&((a=Object(r.a)({},this.state)).controls.roleId.elementConfig.options.array=Object(n.a)(e.admin.roles)),e.admin.user!==this.props.admin.user&&(a=Object(r.a)({},this.state),Object.keys(a.controls).forEach(function(t){a.controls[t].value=e.admin.user[t]}),a.controls.roleId.value=e.admin.user.roleId)}},{key:"componentWillUnmount",value:function(){this.props.onAdminReset()}},{key:"render",value:function(){var e=this,a=this.state,t=a.controls,n=a.formValid,r=a.formError,i=a.formLoading,l=a.formSubmitted,o=this.props,s=o.auth,c=s.error,u=s.loading,m=o.admin,f=m.error,x=m.userLoading,R=m.roleLoading,z=null;!l||i||u||x||R||r||c||f||(z=d.a.createElement(p.a,{to:"/admin/users"}));var M=null;!n&&r&&(M="Veuillez v\xe9rifier vos informations.");var F=d.a.createElement(d.a.Fragment,null,d.a.createElement(k.a,{err:M}),d.a.createElement(k.a,{err:f}),d.a.createElement(k.a,{err:c})),T=null;if(i||u||x||R)T=d.a.createElement("div",{className:"text-center"},d.a.createElement(h.a,{type:"grow",style:{width:"5rem",height:"5rem"},color:"danger"}));else{var S=Object.keys(t).map(function(a){return d.a.createElement(O.a,{key:a,value:t[a].value,onChange:function(a){return e.inputChangedHandler(a)},name:a,icon:t[a].icon,className:t[a].elementConfig.className,check:["radio","checkbox"].includes(t[a].elementConfig.type),select:"select"===t[a].elementConfig.type,file:"file"===t[a].elementConfig.type,options:t[a].elementConfig.options,required:t[a].validation.required,type:t[a].elementConfig.type,invalid:!t[a].valid,touched:t[a].touched,shouldValidate:!!t[a].validation,autoFocus:t[a].elementConfig.autoFocus},t[a].elementConfig.label)});T=d.a.createElement(d.a.Fragment,null,M?d.a.createElement("div",{className:"alert alert-danger"},M):null,c?d.a.createElement("div",{className:"alert alert-danger"},c.message):null,f?d.a.createElement("div",{className:"alert alert-danger"},f.message):null,d.a.createElement(v.a,{onSubmit:function(a){return e.submitHandler(a)}},S,d.a.createElement(g.a,null,d.a.createElement(y.a,{color:"danger"},"Modifier",d.a.createElement(b.a,{icon:"edit",size:"lg",className:"ml-1"})))))}return d.a.createElement(E.a,{xs:12,className:"p-0"},z,d.a.createElement(j.a,{main:"Modifier un utilisateur",icon:"edit"}),d.a.createElement(N.a,{user:!0,bg:"light"},d.a.createElement(C.a,{user:!0,icon:"edit"},"Modifier un utilisateur"),d.a.createElement(w.a,null,"Ici, vous pouvez modifier un utilisateur de l'application."),F,T))}}]),a}(m.Component);a.default=Object(f.b)(function(e){return Object(r.a)({},e)},function(e){return{onAuthPageOff:function(){return e(x.y())},onUserPageOn:function(){return e(x.Z())},onAuthErrorReset:function(){return e(x.v())},onAdminReset:function(){return e(x.n())},onCreateUser:function(){return e(x.b())},onEditUser:function(a){return e(x.i(a))},onUpdateUser:function(a,t){return e(x.t(a,t))}}})(z)}}]);
//# sourceMappingURL=9.e9bd9bfd.chunk.js.map
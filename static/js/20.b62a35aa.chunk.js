(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{138:function(e,a,t){"use strict";var n=t(0),r=t.n(n);a.a=function(e){var a=e.err;return a?r.a.createElement("div",{className:"alert alert-danger"},a.message?a.message:a):null}},139:function(e,a,t){"use strict";var n=t(0),r=t.n(n),s=t(8),l=t(142),c=t(143),i=t(11);a.a=function(e){var a=e.items,t=e.main,n=e.icon,o=null;return a&&(o=a.map(function(e,a){return r.a.createElement(l.a,{key:a},r.a.createElement(s.b,{className:"text-info",to:e.to},e.content))})),r.a.createElement(c.a,{listClassName:"bg-transparent rounded-0 small justify-content-end",style:{top:0,right:0,position:"absolute",zIndex:1e3}},r.a.createElement(l.a,null,r.a.createElement(s.b,{className:"text-info",to:"/"},r.a.createElement(i.a,{icon:n,className:"mr-1"})," Accueil")),o,r.a.createElement(l.a,{className:"text-danger",active:!0},t))}},140:function(e,a,t){"use strict";var n=t(0),r=t.n(n),s=t(11);a.a=function(e){var a=e.icon,t=e.children,n=e.className,l=e.user;return r.a.createElement("h2",{className:(l?"h4 ":"")+"mb-2 "+n},r.a.createElement(s.a,{icon:a,className:"mr-2",fixedWidth:!0}),t)}},141:function(e,a,t){"use strict";var n=t(0),r=t.n(n);a.a=function(e){var a=e.children,t=e.className;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"text-muted lead small "+t},a),r.a.createElement("hr",null))}},142:function(e,a,t){"use strict";var n=t(5),r=t(7),s=t(0),l=t.n(s),c=t(2),i=t.n(c),o=t(9),m=t.n(o),u=t(4),d={tag:u.m,active:i.a.bool,className:i.a.string,cssModule:i.a.object},b=function(e){var a=e.className,t=e.cssModule,s=e.active,c=e.tag,i=Object(r.a)(e,["className","cssModule","active","tag"]),o=Object(u.i)(m()(a,!!s&&"active","breadcrumb-item"),t);return l.a.createElement(c,Object(n.a)({},i,{className:o,"aria-current":s?"page":void 0}))};b.propTypes=d,b.defaultProps={tag:"li"},a.a=b},143:function(e,a,t){"use strict";var n=t(5),r=t(7),s=t(0),l=t.n(s),c=t(2),i=t.n(c),o=t(9),m=t.n(o),u=t(4),d={tag:u.m,listTag:u.m,className:i.a.string,listClassName:i.a.string,cssModule:i.a.object,children:i.a.node,"aria-label":i.a.string},b=function(e){var a=e.className,t=e.listClassName,s=e.cssModule,c=e.children,i=e.tag,o=e.listTag,d=e["aria-label"],b=Object(r.a)(e,["className","listClassName","cssModule","children","tag","listTag","aria-label"]),p=Object(u.i)(m()(a),s),f=Object(u.i)(m()("breadcrumb",t),s);return l.a.createElement(i,Object(n.a)({},b,{className:p,"aria-label":d}),l.a.createElement(o,{className:f},c))};b.propTypes=d,b.defaultProps={tag:"nav",listTag:"ol","aria-label":"breadcrumb"},a.a=b},146:function(e,a,t){"use strict";var n=t(0),r=t.n(n),s=t(50),l=t(158),c=t(11);a.a=function(e){var a=e.fields,t=e.array,n=e.limit,i=e.bordered,o=e.xs,m=e.sm,u=e.md,d=e.lg,b=e.xl,p=e.className,f=e.title,g=e.icon,v=e.dark,h=e.borderless,N=e.innerClassName,E=e.p0,y=e.select,k=e.children,j=e.selectHandler,O=e.style,x=a.map(function(e){var a=e.name;return r.a.createElement("th",{className:"align-middle",key:a},a)});x.unshift(r.a.createElement("th",{className:"text-center align-middle",key:"#"},"#")),y&&x.unshift(r.a.createElement("th",{className:"align-middle text-center",key:"select_all"},r.a.createElement("input",{type:"checkbox",onClick:j,className:"select_all"})));var w=a.map(function(e){return e.key}),A=t.map(function(e,a){if(n&&a>=n)return null;var t=[r.a.createElement("th",{className:"text-center align-middle",key:"primary"+a},a+1)];for(var s in y&&t.unshift(r.a.createElement("th",{className:"text-center align-middle",key:"secondary"+a},r.a.createElement("input",{type:"checkbox",value:e._id}))),e)if(e.hasOwnProperty(s)){var l=e[s];w.includes(s)&&t.push(r.a.createElement("td",{className:"align-middle",key:s},l))}return r.a.createElement("tr",{className:"align-middle",key:a+1},t)});return r.a.createElement(s.a,{xs:o,sm:m,md:u,lg:d,xl:b},r.a.createElement("div",{className:(E?"p-0":"p-3")+" mb-3 "+(v?"text-light ":"")+p,style:O},r.a.createElement("h5",{className:"mb-2"},g?r.a.createElement(c.a,{fixedWidth:!0,className:"mr-2",icon:g}):null,f),k,r.a.createElement("div",{className:"table-responsive-xl"},r.a.createElement(l.a,{dark:v,bordered:i,borderless:h,className:N},r.a.createElement("thead",null,r.a.createElement("tr",null,x)),r.a.createElement("tbody",null,A)))))}},158:function(e,a,t){"use strict";var n=t(5),r=t(7),s=t(0),l=t.n(s),c=t(2),i=t.n(c),o=t(9),m=t.n(o),u=t(4),d={className:i.a.string,cssModule:i.a.object,size:i.a.string,bordered:i.a.bool,borderless:i.a.bool,striped:i.a.bool,dark:i.a.bool,hover:i.a.bool,responsive:i.a.oneOfType([i.a.bool,i.a.string]),tag:u.m,responsiveTag:u.m,innerRef:i.a.oneOfType([i.a.func,i.a.string,i.a.object])},b=function(e){var a=e.className,t=e.cssModule,s=e.size,c=e.bordered,i=e.borderless,o=e.striped,d=e.dark,b=e.hover,p=e.responsive,f=e.tag,g=e.responsiveTag,v=e.innerRef,h=Object(r.a)(e,["className","cssModule","size","bordered","borderless","striped","dark","hover","responsive","tag","responsiveTag","innerRef"]),N=Object(u.i)(m()(a,"table",!!s&&"table-"+s,!!c&&"table-bordered",!!i&&"table-borderless",!!o&&"table-striped",!!d&&"table-dark",!!b&&"table-hover"),t),E=l.a.createElement(f,Object(n.a)({},h,{ref:v,className:N}));if(p){var y=Object(u.i)(!0===p?"table-responsive":"table-responsive-"+p,t);return l.a.createElement(g,{className:y},E)}return E};b.propTypes=d,b.defaultProps={tag:"table",responsiveTag:"div"},a.a=b},188:function(e,a,t){"use strict";var n=t(5),r=t(7),s=t(0),l=t.n(s),c=t(2),i=t.n(c),o=t(9),m=t.n(o),u=t(4),d={tag:u.m,"aria-label":i.a.string,className:i.a.string,cssModule:i.a.object,role:i.a.string,size:i.a.string,vertical:i.a.bool},b=function(e){var a=e.className,t=e.cssModule,s=e.size,c=e.vertical,i=e.tag,o=Object(r.a)(e,["className","cssModule","size","vertical","tag"]),d=Object(u.i)(m()(a,!!s&&"btn-group-"+s,c?"btn-group-vertical":"btn-group"),t);return l.a.createElement(i,Object(n.a)({},o,{className:d}))};b.propTypes=d,b.defaultProps={tag:"div",role:"group"},a.a=b},333:function(e,a,t){"use strict";t.r(a);var n=t(16),r=t(25),s=t(26),l=t(28),c=t(27),i=t(29),o=t(0),m=t.n(o),u=t(30),d=t(8),b=t(33),p=t(137),f=t(80),g=t(127),v=t(188),h=t(50),N=t(154),E=t.n(N),y=t(41),k=t.n(y),j=t(11),O=t(139),x=t(40),w=t(140),A=t(141),M=t(146),T=t(138),z=t(31),P=t(3),C=function(e){function a(){var e,t;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(t=Object(l.a)(this,(e=Object(c.a)(a)).call.apply(e,[this].concat(s)))).itemsDeletedHandler=function(){var e=t.props.onDestroyRole;k()("input").each(function(){this.checked&&e(k()(this).val())})},t.allSelectedHandler=function(){k()("input:not(.select_all)").each(function(){this.checked=document.querySelector(".select_all").checked})},t}return Object(i.a)(a,e),Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,a=e.onAuthPageOff,t=e.onUserPageOn,n=e.onGetUsers,r=e.auth,s=r.authPage,l=r.userPage;s&&a(),l||t(),n()}},{key:"componentWillUnmount",value:function(){this.props.onAdminReset()}},{key:"render",value:function(){var e=this.props,a=e.admin,t=a.error,n=a.userLoading,r=a.users,s=e.onDestroyUser,l=null,c=null;if(n)l=m.a.createElement("div",{className:"text-center"},m.a.createElement(p.a,{type:"grow",color:"danger",style:{width:"5rem",height:"5rem"},className:"mx-auto",size:"xl"}));else if(c=m.a.createElement(m.a.Fragment,null,m.a.createElement(T.a,{err:t})),r){var i=r.map(function(e){return Object(P.b)(e,{name:m.a.createElement(d.b,{to:"/admin/users/"+e._id},e.name),role:e.roleId.name,createdAt:E()(e.createdAt).fromNow(),updatedAt:E()(e.updatedAt).fromNow(),delete:m.a.createElement("div",{className:"text-center"},m.a.createElement(f.a,{onClick:function(){return s(e._id)},size:"sm",color:"danger"},m.a.createElement(j.a,{className:"text-white",icon:"times"})))})});l=m.a.createElement(g.a,null,m.a.createElement(M.a,{array:i,select:!0,selectHandler:this.allSelectedHandler,className:"bg-white rounded shadow",title:"Liste des utilisateurs",bordered:!0,xl:12,fields:[{name:"Adresse mail",key:"email"},{name:"Nom",key:"name"},{name:"R\xf4le",key:"role"},{name:"Cr\xe9\xe9",key:"createdAt"},{name:"Modifi\xe9",key:"updatedAt"},{name:"Supprimer",key:"delete"}]},m.a.createElement("div",{className:"text-right pb-2"},m.a.createElement(v.a,null,m.a.createElement(d.b,{className:"btn btn-info btn-sm",to:"/admin/users/create"},m.a.createElement(j.a,{icon:"plus",fixedWidth:!0,className:"mr-1"}),"Ajouter"),m.a.createElement(f.a,{onClick:this.itemsDeletedHandler,size:"sm",color:"danger"},m.a.createElement(j.a,{icon:"minus",fixedWidth:!0,className:"mr-1"}),"Supprimer")))))}return m.a.createElement(h.a,{xs:12,className:"p-0"},m.a.createElement(O.a,{main:"Utilisateurs",icon:"users"}),m.a.createElement(x.a,{user:!0,bg:"light"},m.a.createElement(w.a,{user:!0,icon:"users"},"Utilisateurs"),m.a.createElement(A.a,null,"Ici, vous pouvez trouver la liste des utilisateurs de l'application."),c,l))}}]),a}(o.Component);a.default=Object(b.g)(Object(u.b)(function(e){return Object(n.a)({},e)},function(e){return{onAuthPageOff:function(){return e(z.y())},onUserPageOn:function(){return e(z.Z())},onAdminReset:function(){return e(z.n())},onGetUsers:function(){return e(z.m())},onDestroyUser:function(a){return e(z.f(a))}}})(C))}}]);
//# sourceMappingURL=20.b62a35aa.chunk.js.map
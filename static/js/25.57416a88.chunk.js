(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{144:function(e,t,a){"use strict";var n=a(0),o=a.n(n),i=a(148),r=a(150),l=a(149),s=a(50),c=a(145),u=a(11);t.a=function(e){var t=e.icon,a=e.name,n=e.type,d=e.check,m=e.placeholder,f=e.required,p=e.autoFocus,h=e.children,b=e.className,g=e.onChange,v=e.invalid,y=e.touched,O=e.shouldValidate,j=e.row,E=e.select,N=e.options,w=e.file,C=e.value,k=null;return E&&(k=N.array.map(function(e){return o.a.createElement("option",{key:e[N.value],value:e[N.value]},e[N.name])})),o.a.createElement(i.a,{row:j,className:b+(j?" align-items-center":""),check:d},d?o.a.createElement(r.a,{type:n,name:a,id:a,label:h,value:C||""}):o.a.createElement(o.a.Fragment,null,o.a.createElement(l.a,{sm:j?4:null,className:j?" text-right font-weight-bold":"",for:a},t?o.a.createElement(u.a,{fixedWidth:!0,icon:t,className:"mr-1"}):null,h),j?o.a.createElement(s.a,{sm:8},w?o.a.createElement(r.a,{type:n,invalid:v&&y&&O,valid:!v&&y&&O,name:a,id:a,required:f,autoFocus:p,placeholder:m,onChange:g}):o.a.createElement(c.a,{type:n,value:C||"",invalid:v&&y&&O,valid:!v&&y&&O,name:a,id:a,required:f,autoFocus:p,placeholder:m,onChange:g})):E?o.a.createElement(c.a,{type:n,value:C||"",invalid:v&&y&&O,valid:!v&&y&&O,name:a,id:a,required:f,autoFocus:p,placeholder:m,onChange:g},k):w?o.a.createElement(r.a,{type:n,invalid:v&&y&&O,valid:!v&&y&&O,name:a,id:a,required:f,autoFocus:p,placeholder:m,onChange:g}):o.a.createElement(c.a,{type:n,value:C||"",invalid:v&&y&&O,valid:!v&&y&&O,name:a,id:a,required:f,autoFocus:p,placeholder:m,onChange:g})))}},145:function(e,t,a){"use strict";var n=a(5),o=a(7),i=a(15),r=a(12),l=a(0),s=a.n(l),c=a(2),u=a.n(c),d=a(9),m=a.n(d),f=a(4),p={children:u.a.node,type:u.a.string,size:u.a.string,bsSize:u.a.string,valid:u.a.bool,invalid:u.a.bool,tag:f.m,innerRef:u.a.oneOfType([u.a.object,u.a.func,u.a.string]),plaintext:u.a.bool,addon:u.a.bool,className:u.a.string,cssModule:u.a.object},h=function(e){function t(t){var a;return(a=e.call(this,t)||this).getRef=a.getRef.bind(Object(i.a)(a)),a.focus=a.focus.bind(Object(i.a)(a)),a}Object(r.a)(t,e);var a=t.prototype;return a.getRef=function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e},a.focus=function(){this.ref&&this.ref.focus()},a.render=function(){var e=this.props,t=e.className,a=e.cssModule,i=e.type,r=e.bsSize,l=e.valid,c=e.invalid,u=e.tag,d=e.addon,p=e.plaintext,h=e.innerRef,b=Object(o.a)(e,["className","cssModule","type","bsSize","valid","invalid","tag","addon","plaintext","innerRef"]),g=["radio","checkbox"].indexOf(i)>-1,v=new RegExp("\\D","g"),y=u||("select"===i||"textarea"===i?i:"input"),O="form-control";p?(O+="-plaintext",y=u||"input"):"file"===i?O+="-file":g&&(O=d?null:"form-check-input"),b.size&&v.test(b.size)&&(Object(f.n)('Please use the prop "bsSize" instead of the "size" to bootstrap\'s input sizing.'),r=b.size,delete b.size);var j=Object(f.i)(m()(t,c&&"is-invalid",l&&"is-valid",!!r&&"form-control-"+r,O),a);return("input"===y||u&&"function"===typeof u)&&(b.type=i),b.children&&!p&&"select"!==i&&"string"===typeof y&&"select"!==y&&(Object(f.n)('Input with a type of "'+i+'" cannot have children. Please use "value"/"defaultValue" instead.'),delete b.children),s.a.createElement(y,Object(n.a)({},b,{ref:h,className:j}))},t}(s.a.Component);h.propTypes=p,h.defaultProps={type:"text"},t.a=h},148:function(e,t,a){"use strict";var n=a(5),o=a(7),i=a(0),r=a.n(i),l=a(2),s=a.n(l),c=a(9),u=a.n(c),d=a(4),m={children:s.a.node,row:s.a.bool,check:s.a.bool,inline:s.a.bool,disabled:s.a.bool,tag:d.m,className:s.a.string,cssModule:s.a.object},f=function(e){var t=e.className,a=e.cssModule,i=e.row,l=e.disabled,s=e.check,c=e.inline,m=e.tag,f=Object(o.a)(e,["className","cssModule","row","disabled","check","inline","tag"]),p=Object(d.i)(u()(t,!!i&&"row",s?"form-check":"form-group",!(!s||!c)&&"form-check-inline",!(!s||!l)&&"disabled"),a);return r.a.createElement(m,Object(n.a)({},f,{className:p}))};f.propTypes=m,f.defaultProps={tag:"div"},t.a=f},149:function(e,t,a){"use strict";var n=a(5),o=a(7),i=a(0),r=a.n(i),l=a(2),s=a.n(l),c=a(9),u=a.n(c),d=a(58),m=a.n(d),f=a(4),p=s.a.oneOfType([s.a.number,s.a.string]),h=s.a.oneOfType([s.a.string,s.a.number,s.a.shape({size:p,order:p,offset:p})]),b={children:s.a.node,hidden:s.a.bool,check:s.a.bool,size:s.a.string,for:s.a.string,tag:f.m,className:s.a.string,cssModule:s.a.object,xs:h,sm:h,md:h,lg:h,xl:h,widths:s.a.array},g={tag:"label",widths:["xs","sm","md","lg","xl"]},v=function(e,t,a){return!0===a||""===a?e?"col":"col-"+t:"auto"===a?e?"col-auto":"col-"+t+"-auto":e?"col-"+a:"col-"+t+"-"+a},y=function(e){var t=e.className,a=e.cssModule,i=e.hidden,l=e.widths,s=e.tag,c=e.check,d=e.size,p=e.for,h=Object(o.a)(e,["className","cssModule","hidden","widths","tag","check","size","for"]),b=[];l.forEach(function(t,n){var o=e[t];if(delete h[t],o||""===o){var i,r=!n;if(m()(o)){var l,s=r?"-":"-"+t+"-";i=v(r,t,o.size),b.push(Object(f.i)(u()(((l={})[i]=o.size||""===o.size,l["order"+s+o.order]=o.order||0===o.order,l["offset"+s+o.offset]=o.offset||0===o.offset,l))),a)}else i=v(r,t,o),b.push(i)}});var g=Object(f.i)(u()(t,!!i&&"sr-only",!!c&&"form-check-label",!!d&&"col-form-label-"+d,b,!!b.length&&"col-form-label"),a);return r.a.createElement(s,Object(n.a)({htmlFor:p},h,{className:g}))};y.propTypes=b,y.defaultProps=g,t.a=y},150:function(e,t,a){"use strict";var n=a(5),o=a(7),i=a(0),r=a.n(i),l=a(2),s=a.n(l),c=a(9),u=a.n(c),d=a(4),m={className:s.a.string,id:s.a.oneOfType([s.a.string,s.a.number]).isRequired,type:s.a.string.isRequired,label:s.a.node,inline:s.a.bool,valid:s.a.bool,invalid:s.a.bool,bsSize:s.a.string,htmlFor:s.a.string,cssModule:s.a.object,children:s.a.oneOfType([s.a.node,s.a.array,s.a.func]),innerRef:s.a.oneOfType([s.a.object,s.a.string,s.a.func])};function f(e){var t=e.className,a=e.label,i=e.inline,l=e.valid,s=e.invalid,c=e.cssModule,m=e.children,f=e.bsSize,p=e.innerRef,h=e.htmlFor,b=Object(o.a)(e,["className","label","inline","valid","invalid","cssModule","children","bsSize","innerRef","htmlFor"]),g=b.type,v=Object(d.i)(u()(t,"custom-"+g,!!f&&"custom-"+g+"-"+f),c),y=Object(d.i)(u()(s&&"is-invalid",l&&"is-valid"),c),O=h||b.id;if("select"===g)return r.a.createElement("select",Object(n.a)({},b,{ref:p,className:u()(y,v)}),m);if("file"===g)return r.a.createElement("div",{className:v},r.a.createElement("input",Object(n.a)({},b,{ref:p,className:u()(y,Object(d.i)("custom-file-input",c))})),r.a.createElement("label",{className:Object(d.i)("custom-file-label",c),htmlFor:O},a||"Choose file"));if("checkbox"!==g&&"radio"!==g&&"switch"!==g)return r.a.createElement("input",Object(n.a)({},b,{ref:p,className:u()(y,v)}));var j=u()(v,Object(d.i)(u()("custom-control",{"custom-control-inline":i}),c));return r.a.createElement("div",{className:j},r.a.createElement("input",Object(n.a)({},b,{type:"switch"===g?"checkbox":g,ref:p,className:u()(y,Object(d.i)("custom-control-input",c))})),r.a.createElement("label",{className:Object(d.i)("custom-control-label",c),htmlFor:O},a),m)}f.propTypes=m,t.a=f},151:function(e,t,a){"use strict";var n=a(5),o=a(7),i=a(15),r=a(12),l=a(0),s=a.n(l),c=a(2),u=a.n(c),d=a(9),m=a.n(d),f=a(4),p={children:u.a.node,inline:u.a.bool,tag:f.m,innerRef:u.a.oneOfType([u.a.object,u.a.func,u.a.string]),className:u.a.string,cssModule:u.a.object},h=function(e){function t(t){var a;return(a=e.call(this,t)||this).getRef=a.getRef.bind(Object(i.a)(a)),a.submit=a.submit.bind(Object(i.a)(a)),a}Object(r.a)(t,e);var a=t.prototype;return a.getRef=function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e},a.submit=function(){this.ref&&this.ref.submit()},a.render=function(){var e=this.props,t=e.className,a=e.cssModule,i=e.inline,r=e.tag,l=e.innerRef,c=Object(o.a)(e,["className","cssModule","inline","tag","innerRef"]),u=Object(f.i)(m()(t,!!i&&"form-inline"),a);return s.a.createElement(r,Object(n.a)({},c,{ref:l,className:u}))},t}(l.Component);h.propTypes=p,h.defaultProps={tag:"form"},t.a=h},312:function(e,t,a){},340:function(e,t,a){"use strict";a.r(t);var n=a(16),o=a(57),i=a(25),r=a(26),l=a(28),s=a(27),c=a(29),u=a(0),d=a.n(u),m=a(30),f=a(33),p=a(8),h=a(11),b=a(151),g=a(148),v=a(80),y=a(137),O=a(50),j=a(126),E=a(127),N=a(120),w=(a(312),a(42)),C=a(144),k=a(31),x=a(3),R=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={formError:!1,formLoading:!1,controls:{name:{elementConfig:{type:"text",label:"Nom(s) & pr\xe9nom(s)",autoFocus:!0},icon:"signature",value:"",validation:{required:!0,minLength:5},valid:!1,touched:!1},email:{elementConfig:{type:"email",label:"Adresse mail"},icon:"envelope",value:"",validation:{required:!0,isEmail:!0},valid:!1,touched:!1},password:{elementConfig:{type:"password",label:"Mot de passe"},icon:"lock",value:"",validation:{required:!0,minLength:8},valid:!1,touched:!1},password_confirmation:{elementConfig:{type:"password",label:"Confirmation du mot de passe"},icon:"key",value:"",validation:{required:!0,minLength:8},valid:!1,touched:!1},roleId:{elementConfig:{type:"select",label:"R\xf4le",options:{array:[],value:"_id",name:"name"}},icon:"user-tag",value:"",validation:{required:!0},valid:!0,touched:!1},phone:{elementConfig:{type:"tel",label:"Num\xe9ro de t\xe9l\xe9phone"},icon:"phone",value:"",validation:{required:!0,minLength:8},valid:!1,touched:!1},image:{elementConfig:{type:"file",label:"Photo"},icon:"image",value:"",validation:{required:!0},valid:!1,touched:!1}}},a.inputChangedHandler=function(e){var t=e.target,n=t.files,i=t.name,r=t.value,l=a.state.controls;a.setState(Object(x.b)(a.state,{controls:Object(x.b)(l,Object(o.a)({},i,Object(x.b)(l[i],{value:n?n[0]:r,valid:Object(x.a)(r,l[i].validation),touched:!0})))})),a.setState({formError:!1})},a.submitHandler=function(e){var t=a.state.controls;e.preventDefault();var n={},o=!0;for(var i in t)if(t.hasOwnProperty(i)){var r=t[i];n[i]=r.value,r.hasOwnProperty("valid")&&(o=o&&r.valid)}o?(a.props.onAuthErrorReset(),a.props.onAuthSignup(n),a.setState({formError:!1})):a.setState({formError:!0})},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.auth.authPage||this.props.onAuthPageOn(),this.props.auth.userPage&&this.props.onUserPageOff(),this.props.onSetAuthRedirectPath(),fetch("http://localhost:8080/auth/signup",{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(e){if(200!==e.status&&201!==e.status)throw new Error("Erreur lors de la r\xe9cup\xe9ration des r\xf4les.");return e.json()}).then(function(t){e.setState({controls:Object(x.b)(e.state.controls,{roleId:Object(x.b)(e.state.controls.roleId,{elementConfig:Object(x.b)(e.state.controls.roleId.elementConfig,{options:Object(x.b)(e.state.controls.roleId.elementConfig.options,{array:t.roles})})})})})}).catch(function(e){console.log(e)})}},{key:"componentWillUnmount",value:function(){this.props.onAuthErrorReset()}},{key:"render",value:function(){var e=this,t=this.state,a=t.controls,n=t.formError,o=t.formLoading,i=this.props.auth,r=i.token,l=i.authRedirectPath,s=i.error,c=i.loading,u=null;null!==r&&(u=d.a.createElement(f.a,{to:l}));var m=null;n&&(m=d.a.createElement("p",{className:"text-center text-danger"},"Veuillez v\xe9rifier vos informations."));var k=Object.keys(a).map(function(t){return d.a.createElement(C.a,{key:t,value:a[t].value,onChange:function(t){return e.inputChangedHandler(t)},name:t,icon:a[t].icon,className:a[t].elementConfig.className,check:["radio","checkbox"].includes(a[t].elementConfig.type),select:"select"===a[t].elementConfig.type,file:"file"===a[t].elementConfig.type,options:a[t].elementConfig.options,required:a[t].validation.required,type:a[t].elementConfig.type,invalid:!a[t].valid,touched:a[t].touched,shouldValidate:!!a[t].validation,autoFocus:a[t].elementConfig.autoFocus},a[t].elementConfig.label)}),x=d.a.createElement(d.a.Fragment,null,m,s?d.a.createElement("div",{className:"alert alert-danger"},s.message):null,d.a.createElement(b.a,{onSubmit:function(t){return e.submitHandler(t)}},k,d.a.createElement(g.a,null,d.a.createElement(v.a,{color:"danger",block:!0},"S'inscrire",d.a.createElement(h.a,{icon:"user-plus",size:"lg",className:"ml-1"}))),d.a.createElement(p.b,{to:"/login",className:"text-info"},"J'ai d\xe9j\xe0 un compte.")));return(o||c)&&(x=d.a.createElement("div",{className:"text-center"},d.a.createElement(y.a,{type:"grow",style:{width:"5rem",height:"5rem"},color:"danger"}))),d.a.createElement(O.a,{xs:12,className:"Signup p-0 bg-info-danger"},u,d.a.createElement(j.a,{className:"py-5"},d.a.createElement(E.a,{className:"justify-content-center align-items-center"},d.a.createElement(O.a,{lg:7},d.a.createElement(N.a,{className:"py-4 px-5 rounded-lg shadow-sm"},d.a.createElement("div",{className:"text-center mb-3"},d.a.createElement(p.b,{to:"/",className:"text-decoration-none"},d.a.createElement(w.a,null))),d.a.createElement("h5",{className:"text-uppercase font-weight-light text-center mb-3"},"Inscription"),x)))))}}]),t}(u.Component);t.default=Object(f.g)(Object(m.b)(function(e){return Object(n.a)({},e)},function(e){return{onAuthPageOn:function(){return e(k.z())},onUserPageOff:function(){return e(k.Y())},onAuthErrorReset:function(){return e(k.v())},onAuthSignup:function(t){return e(k.A(t))},onSetAuthRedirectPath:function(){return e(k.U("/"))}}})(R))}}]);
//# sourceMappingURL=25.57416a88.chunk.js.map